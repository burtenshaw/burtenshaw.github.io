<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>pandas</title>
  <link rel="stylesheet" href="style.css">
  <script src="remark.min.js"></script>  
  <script>
    function create() {
      return remark.create({
        source: "\nclass: impact\n\n## Pandas\n\n---\n\n## An introduction to Pandas\n\n.col-6[\n#### Learning Objectives\n- Understanding what Pandas is used for\n- Be able to implement the fundamental components of Pandas\n- Be familiar with the Pandas approach\n]\n.col-6[\n#### Programme\n- What is Pandas\n- Why would I use it?\n- How do I use Pandas\n]\n---\n\n# What is Pandas?\n\n.col-4[\n*\n**pandas** is a Python package providing fast, flexible, and expressive data structures designed to make working with “relational” or “labeled” data both easy and intuitive. It aims to be the fundamental high-level building block for doing practical, real world data analysis in Python\n*\n]\n\n.footnote[\nhttps://pandas.pydata.org/docs/getting_started/overview.html\n]\n---\n## Dataframe\n\n.col-6[\n#### Characteristics  \n- 2 dimensional data structure\n- A table\n- Similar to a spreadsheet\n- An object type within Python\n]\n\n.col-6[\n.full-width[\n![dataframe](images/01_table_dataframe1.svg)\n]\n\n]\n\n\n\n---\n\n## Dataframe\n\nA dataframe can be imported or **entered manually**.\n\n.col-7[\n#### Manually Entering a Dataframe\n\n```python\ndf = pd.DataFrame({\n       \"Name\": [\"Braund, Harris\",\n                \"Allen, Henry\",\n                \"Bonnell, Elizabeth\"],\n       \"Age\": [22, 35, 58],\n       \"Sex\": [\"male\", \"male\", \"female\"]}\n   )\nprint(df)\n```\n```bash\n   Name                 Age     Sex\n0  Braund, Harris       22      male\n1  Allen, Henry         35      male\n2  Bonnell, Elizabeth   58      female\n```\n]\n.col-5[\nThis Dataframe has \n- 3 rows: (0, 1, 2) \n- 3 columns (Name, Age, and Sex)\n\n]\n---\n\n## Dataframe\n\nA dataframe can be **imported** or entered manually.\n\n.col-6[\n#### Importing a spreadsheet as a Dataframe\n\n```python\nimport pandas as pd\npd.read_csv('../data/people.csv')\nprint(df)\n```\n```bash\n   Name                 Age     Sex\n0  Braund, Harris       22      male\n1  Allen, Henry         35      male\n2  Bonnell, Elizabeth   58      female\n```\n\n\n]\n.col-6[\n![spreadsheet](images/01_table_spreadsheet.png)\n]\n\n\n---\n## Series\n\n.col-9[\n#### Characteristics  \n- 1 dimensional data structure\n- Each **column** in a `DataFrame` is a `Series`\n- Each **row** in a `DataFrame` is a `Series`\n]\n\n.col-3[\n.full-width[\n![dataframe](images/01_table_series.svg)\n]\n\n]\n---\n\n## Series\n\n.col-6[\n#### Manually Entering a series\n```python\nages = pd.Series([22, 35, 58], \n\t\t\t\tname=\"Age\")\n```\n```bash\n0    22\n1    35\n2    58\nName: Age, dtype: int64\n```\n\n]\n.col-6[\n#### Calling a series from a DataFrame\n```python\ndf[\"Age\"]\n```\n```bash\n0    22\n1    35\n2    58\nName: Age, dtype: int64\n```\n]\n.col-12[\n.red[ Try ] What other python process is similar to calling a series?\n]\n---\nclass: impact\n\n## Open a new notebook\n\n- Import pandas\n- Read `data/titanic.csv`\n\n---\n\n## Viewing Data in a Dataframe\n\n.col-6[\n#### Viewing Functions\n- `head`\n- `tail`\n- `index`\n- `describe` \n]\n.col-6[\n```python\ndf.head()\n```\n```python\ndf.tail()\n```\n```python\ndf.index()\n```\n```python\ndf.describe()\n```\n\n]\n.col-12[\n.red[ Try ] Run all of these commands on the titanic csv.\n]\n\n---\n\n## Selecting Data\n\n.col-6[\n#### Select columns from a Dataframe\n```python\nages = titanic[\"Age\"]\nages.head()\n```\n```bash\n0    22.0\n1    38.0\n2    26.0\n3    35.0\n4    35.0\nName: Age, dtype: float64\n```\n]\n\n.col-6[\n.full-width[![selecting columns](images/03_subset_columns.svg)]\n]\n\n.col-12[\n\t.red[ Try ] What type is the variable `ages` ?\n]\n\n---\n\n## Selecting Data\n\n.col-6[\n#### Select rows from a Dataframe\n```python\nabove_35 = titanic[titanic[\"Age\"] > 35]\n```\n]\n\n.col-6[\n.full-width[![selecting rowa](images/03_subset_rows.svg)]\n]\n\n.col-12[\n\t.red[ Try ] Describe the above command.\n]\n\n.col-6[\n#### Get the shape of a DataFrame\n```python\nabove.shape\n```\n]\n\n.col-12[\n.red[ Try ] How many passengers are there above 35?\n]\n\n---\n\n## Selecting Data\n\n.col-12[\n#### I’m interested in the Titanic passengers from cabin class 2 and 3.\n```python\nclass_1 = titanic[titanic[\"Pclass\"] == 1]\nclass_2_3 = titanic[(titanic[\"Pclass\"] == 2) | (titanic[\"Pclass\"] == 3)]\n```\n]\n\n.col-12[\n.red[ Try ] What's the difference in age between 1st and 2nd/3rd classes?\n]\n\n.col-12[\n\n#### I want to work with passenger data for which the age is known.\n```python\nage_no_na = titanic[titanic[\"Age\"].notna()]\n```\n]\n\n.col-12[\n.red[ Try ] How many passengers names are unknown?\n]\n\n---\n\nclass: impact\n\n## Switch to \n## [`1_introduction.ipynb`](`1_introduction.ipynb`)\n\n---\n\n## Value Counts\n\nCounting the number of records per category\n\n.col-6[\nvalue_counts uses cell entries as a 'category' and counts them.\n```python\ntitanic[\"Pclass\"].value_counts()\n```\n```bash\n3    491\n1    216\n2    184\n```\n]\n.col-6[\n.full-width[\n![value counts](images/06_valuecounts.svg)\n]\n\n]\n\n.footnote[\n[Pandas Tutorial on value_counts](https://pandas.pydata.org/docs/getting_started/intro_tutorials/06_calculate_statistics.html#aggregating-statistics-grouped-by-category)\n]\n\n---\n\nclass: impact\n\n## Switch to \n## [`2_selecting_data.ipynb`](2_selecting_data.ipynb)\n## [`3_solving_problems.ipynb`](3_solving_problems.ipynb)\n\n---\n\n## Summary Statistics\n\n.col-6[\n#### Calculate the mean of a column\n```python\ntitanic[\"Age\"].mean()\n```\n```bash\n29.69911764705882\n```\n\n\n]\n.col-6[\n.full-width[![aggregate](images/06_aggregate.svg)]\n]\n\n\n.col-6[\n\n\n\n#### Summarise multiple columns\n```python\ntitanic[[\"Age\", \"Fare\"]].median()\n```\n```bash\nAge     28.0000\nFare    14.4542\ndtype: float64\n```\n]\n.col-6[\n.full-width[![aggregate](images/06_reduction.svg)]\n]\n\n---\n\n## Grouping and Summarising\n\nSummarise a cross section of the Dataframe\n\n.col-4[\n```python\ntitanic[[\"Sex\", \"Age\"]]\\\n\t.groupby(\"Sex\").mean()\n```\n```bash\n\t\t\tAge\nSex              \nfemale  27.915709\nmale    30.726645\n```\n]\n.col-8[.full-width[![groupby_1](images/06_groupby1.svg)]]\n\n.red[ Try ] Break apart the above code and describe it.\n\n---\n\n## Grouping and Summarising\n\nAnother approach:\n\n.col-4[\n\n```python\ntitanic.groupby(\"Sex\")\\\n\t\t\t\t[\"Age\"]\\\n\t\t\t\t.mean()\n```\n```bash\nSex\nfemale    27.915709\nmale      30.726645\nName: Age, dtype: float64\n```\n]\n\n.col-8[\n.full-width[![groupby_1](images/06_groupby_select_detail.svg)]\n]\n.col-12[\n.red[ Try ] Describe the difference between the two approaches.\n]\n\n---\n\nclass: impact\n\n## Switch to \n## [`4_aggregate_groupby.ipynb`](4_aggregate_groupby.ipynb)\n\n---\n\n## Merging\n\n.col-4[\n#### Concatenation\n\n]\n\n.col-8[\n.full-width[![concat dataframes](images/08_concat_row1.svg)]\n]\n\n.col-8[\n```python\nnew_df = pd.concat([df_1, df_2], axis=0)\n```\n]\n\n\n.footnote[\n[Other Merging Methods](https://pandas.pydata.org/docs/getting_started/intro_tutorials/08_combine_dataframes.html#join-tables-using-a-common-identifier)\n]\n\n---\n\nclass: impact\n\n## Switch to \n## [`5_merging_cleaning.ipynb`](5_merging_cleaning.ipynb)\n\n---\n## Vectorising\n\nVectorising performs an action a single time over multiple inputs.\n\n.col-8[\n- Much faster than iteration\n- Simplifies for multidimensional actions\n- Used by both `pandas` and `numpy` \n]\n.col-4[\n![vectorising](images/vectorization-300x276.png)\n]\n\n.footnote[\n\t[Tutorial on vectorising](https://datascience.blog.wzb.eu/2018/02/02/vectorization-and-parallelization-in-python-with-numpy-and-pandas/)\n]\n---\n\n## Applying vectorisation\n\nPandas allows you to vectorise methods using the `apply` method.\n\n.col-6[\n#### Lambda\n```python\ndf['D'] = df.apply(\\\n\tlambda row : row.sum(), axis=1)\n```\n]\n.col-6[\n#### Defined function\n```python\ndef custom_sum(row):\n    return row.sum()\n\t\ndf['D'] = df.apply(custom_sum, axis=1)\n```\n]\n\n.col-12[\n\t.red[ Try ] Experiment with apply on rows, columns, and cells. \n]\n\n.footnote[\n\t[Introduction to apply](https://towardsdatascience.com/introduction-to-pandas-apply-applymap-and-map-5d3e044e93ff)\n]\n---\n## String operations\n\nPandas can use vectorise functions on strings.\n\n```python\ntitanic[\"Name\"].str.lower()\n```\n\n```python\ntitanic[\"Name\"].str.split(\",\")\n```\n\n```python\ntitanic[\"Name\"].str.contains(\"Countess\")\n```\n\n```python\ntitanic[\"Sex_short\"] = titanic[\"Sex\"].replace({\"male\": \"M\",\n                                               \"female\": \"F\"})\n```\n\n.red[ Try ] Test out the above functions.\n---\nclass: impact\n\n## Switch to \n## [`6_strings.ipynb`](strings.ipynb)\n---\n\n# Resources\n\n- [Pandas Documentation](https://pandas.pydata.org/)\n- [Python for Data Analysis by Wes McKinney](https://amzn.to/2KI5JJw)\n- [The Pandas Cheatsheet](https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf)\n- [Joris Van den Bossche's Pandas Tutorial](https://github.com/jorisvandenbossche/pandas-tutorial)\n- [Tom Augspurger's blog](ttps://tomaugspurger.github.io/modern-1.html)",
        ratio: '16:9',
        highlightLines: true,
        countIncrementalSlides: false,
        highlightStyle: 'github'
      });
    }
  </script>
</head>
<body onload="slideshow = create()">
</body>
</html>